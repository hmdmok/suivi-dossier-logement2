{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moknial01\\\\Documents\\\\suivi-dossier-logement2\\\\src\\\\Components\\\\Login\\\\Login.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onHandleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.onSubmitLogin = event => {\n      event.preventDefault();\n      fetch('http://localhost:3005/Login', {\n        method: 'post',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: this.state.loginUsername,\n          password: this.state.loginPassword\n        })\n      }).then(response => response.json()).then(data => {\n        if (data.auth === 'Success') {\n          this.props.loadUser(data.user);\n          this.props.setAuthent(true);\n          this.props.setUsertype(data.usertype);\n          this.props.history.push(\"/DisplayForm\");\n        } else {\n          this.props.setAuthent(false);\n          this.props.setUsertype('');\n        }\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      loginUsername: '',\n      loginPassword: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.onSubmitLogin,\n      className: \"container form-signin border shadow p-3 my-5 bg-light bg-gradient rounded\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"h3 mb-3 font-weight-normal\",\n        children: \"\\u0627\\u0644\\u0631\\u062C\\u0627\\u0621 \\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u062F\\u062E\\u0648\\u0644\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"inputUsername\",\n        className: \"sr-only\",\n        children: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"loginUsername\",\n        onChange: this.onHandleChange,\n        type: \"username\",\n        id: \"inputUsername\",\n        className: \"form-control text-right\",\n        placeholder: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\",\n        required: true,\n        autoFocus: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"inputPassword\",\n        className: \"sr-only\",\n        children: \"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0633\\u0631\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"loginPassword\",\n        onChange: this.onHandleChange,\n        type: \"password\",\n        id: \"inputPassword\",\n        className: \"form-control text-right\",\n        placeholder: \"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0633\\u0631\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-lg btn-primary btn-block\",\n        type: \"submit\",\n        children: \"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u062F\\u062E\\u0648\\u0644\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-5 mb-3 text-muted\",\n        children: \"\\xA9 2021\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"names":["React","Login","Component","constructor","props","onHandleChange","event","setState","target","name","value","onSubmitLogin","preventDefault","fetch","method","headers","body","JSON","stringify","username","state","loginUsername","password","loginPassword","then","response","json","data","auth","loadUser","user","setAuthent","setUsertype","usertype","history","push","catch","err","console","log","render"],"sources":["C:/Users/moknial01/Documents/suivi-dossier-logement2/src/Components/Login/Login.js"],"sourcesContent":["import React from 'react';\r\n\r\nclass Login extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            loginUsername: '',\r\n            loginPassword: ''\r\n        }\r\n    }\r\n\r\n\r\n\r\n    onHandleChange = (event) => {\r\n        this.setState({[event.target.name]: event.target.value,});\r\n    }\r\n\r\n    onSubmitLogin = (event) => {\r\n        event.preventDefault();\r\n        fetch('http://localhost:3005/Login', {\r\n            method: 'post',\r\n            headers: {'content-type': 'application/json'},\r\n            body: JSON.stringify({\r\n                username: this.state.loginUsername,\r\n                password: this.state.loginPassword\r\n            })\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            if(data.auth === 'Success'){\r\n                this.props.loadUser(data.user);\r\n                this.props.setAuthent(true);\r\n                this.props.setUsertype(data.usertype);\r\n                this.props.history.push(\"/DisplayForm\");\r\n            }else{\r\n                this.props.setAuthent(false);\r\n                this.props.setUsertype('');\r\n            }\r\n        }).catch(err => console.log(err));\r\n           \r\n    }\r\n \r\n    render(){\r\n        return (\r\n            <form\r\n                onSubmit={this.onSubmitLogin} \r\n                className=\"container form-signin border shadow p-3 my-5 bg-light bg-gradient rounded\">\r\n\r\n                <h1 className=\"h3 mb-3 font-weight-normal\">الرجاء تسجيل الدخول</h1>\r\n                <label htmlFor=\"inputUsername\" className=\"sr-only\">اسم المستخدم</label>\r\n                <input \r\n                    name=\"loginUsername\"\r\n                    onChange={this.onHandleChange} \r\n                    type=\"username\" \r\n                    id=\"inputUsername\" \r\n                    className=\"form-control text-right\" \r\n                    placeholder=\"اسم المستخدم\" \r\n                    required\r\n                    autoFocus \r\n                />\r\n                <label htmlFor=\"inputPassword\" className=\"sr-only\">كلمة السر</label>\r\n                <input \r\n                    name=\"loginPassword\"\r\n                    onChange={this.onHandleChange} \r\n                    type=\"password\" \r\n                    id=\"inputPassword\" \r\n                    className=\"form-control text-right\" \r\n                    placeholder=\"كلمة السر\" \r\n                    required\r\n                />\r\n                <hr/>\r\n                <button \r\n                    \r\n                    className=\"btn btn-lg btn-primary btn-block\" \r\n                    type=\"submit\"\r\n                >\r\n                    تسجيل الدخول\r\n                </button>\r\n                <p className=\"mt-5 mb-3 text-muted\">© 2021</p>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,KAAN,SAAoBD,KAAK,CAACE,SAA1B,CAAoC;EAEhCC,WAAW,CAACC,KAAD,EAAO;IACd,MAAMA,KAAN;;IADc,KAUlBC,cAVkB,GAUAC,KAAD,IAAW;MACxB,KAAKC,QAAL,CAAc;QAAC,CAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE;MAAnC,CAAd;IACH,CAZiB;;IAAA,KAclBC,aAdkB,GAcDL,KAAD,IAAW;MACvBA,KAAK,CAACM,cAAN;MACAC,KAAK,CAAC,6BAAD,EAAgC;QACjCC,MAAM,EAAE,MADyB;QAEjCC,OAAO,EAAE;UAAC,gBAAgB;QAAjB,CAFwB;QAGjCC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;UACjBC,QAAQ,EAAE,KAAKC,KAAL,CAAWC,aADJ;UAEjBC,QAAQ,EAAE,KAAKF,KAAL,CAAWG;QAFJ,CAAf;MAH2B,CAAhC,CAAL,CAQCC,IARD,CAQMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EARlB,EASCF,IATD,CASMG,IAAI,IAAI;QACV,IAAGA,IAAI,CAACC,IAAL,KAAc,SAAjB,EAA2B;UACvB,KAAKxB,KAAL,CAAWyB,QAAX,CAAoBF,IAAI,CAACG,IAAzB;UACA,KAAK1B,KAAL,CAAW2B,UAAX,CAAsB,IAAtB;UACA,KAAK3B,KAAL,CAAW4B,WAAX,CAAuBL,IAAI,CAACM,QAA5B;UACA,KAAK7B,KAAL,CAAW8B,OAAX,CAAmBC,IAAnB,CAAwB,cAAxB;QACH,CALD,MAKK;UACD,KAAK/B,KAAL,CAAW2B,UAAX,CAAsB,KAAtB;UACA,KAAK3B,KAAL,CAAW4B,WAAX,CAAuB,EAAvB;QACH;MACJ,CAnBD,EAmBGI,KAnBH,CAmBSC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAnBhB;IAqBH,CArCiB;;IAEd,KAAKjB,KAAL,GAAa;MACTC,aAAa,EAAE,EADN;MAETE,aAAa,EAAE;IAFN,CAAb;EAIH;;EAiCDiB,MAAM,GAAE;IACJ,oBACI;MACI,QAAQ,EAAE,KAAK7B,aADnB;MAEI,SAAS,EAAC,2EAFd;MAAA,wBAII;QAAI,SAAS,EAAC,4BAAd;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAJJ,eAKI;QAAO,OAAO,EAAC,eAAf;QAA+B,SAAS,EAAC,SAAzC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QALJ,eAMI;QACI,IAAI,EAAC,eADT;QAEI,QAAQ,EAAE,KAAKN,cAFnB;QAGI,IAAI,EAAC,UAHT;QAII,EAAE,EAAC,eAJP;QAKI,SAAS,EAAC,yBALd;QAMI,WAAW,EAAC,qEANhB;QAOI,QAAQ,MAPZ;QAQI,SAAS;MARb;QAAA;QAAA;QAAA;MAAA,QANJ,eAgBI;QAAO,OAAO,EAAC,eAAf;QAA+B,SAAS,EAAC,SAAzC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAhBJ,eAiBI;QACI,IAAI,EAAC,eADT;QAEI,QAAQ,EAAE,KAAKA,cAFnB;QAGI,IAAI,EAAC,UAHT;QAII,EAAE,EAAC,eAJP;QAKI,SAAS,EAAC,yBALd;QAMI,WAAW,EAAC,mDANhB;QAOI,QAAQ;MAPZ;QAAA;QAAA;QAAA;MAAA,QAjBJ,eA0BI;QAAA;QAAA;QAAA;MAAA,QA1BJ,eA2BI;QAEI,SAAS,EAAC,kCAFd;QAGI,IAAI,EAAC,QAHT;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QA3BJ,eAkCI;QAAG,SAAS,EAAC,sBAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAlCJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EAsCH;;AAhF+B;;AAmFpC,eAAeJ,KAAf"},"metadata":{},"sourceType":"module"}